<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NFT Case Deluxe</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --primary: #00d2ff;
            --accent: #9d50bb;
            --bg: #050505;
        }

        body {
            background: var(--bg);
            background: radial-gradient(circle at center, #1a1a2e 0%, #050505 100%);
            color: white;
            font-family: 'Inter', sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        .fade-in { animation: fadeIn 0.8s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* –û–∫–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π */
        #update-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); backdrop-filter: blur(10px);
            display: flex; align-items: center; justify-content: center; z-index: 100;
        }
        .modal-content {
            background: linear-gradient(135deg, #2c3e50, #000);
            padding: 30px; border-radius: 24px; border: 1px solid var(--primary);
            width: 80%; text-align: center;
        }

        /* –ë–∞–ª–∞–Ω—Å */
        .balance-card {
            margin-top: 20px; padding: 10px 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50px; border: 1px solid rgba(255,255,255,0.1);
            font-weight: bold; color: #00ff88;
        }

        /* –†—É–ª–µ—Ç–∫–∞ / –ö–µ–π—Å */
        .case-scene {
            position: relative; margin-top: 50px;
            width: 250px; height: 250px;
            display: flex; align-items: center; justify-content: center;
        }
        .glow {
            position: absolute; width: 100%; height: 100%;
            background: var(--primary); filter: blur(80px); opacity: 0.2;
            border-radius: 50%;
        }
        .nft-display {
            width: 200px; height: 200px; object-fit: contain;
            z-index: 2; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
        .spinning { animation: spin 0.2s infinite linear; }
        @keyframes spin { 0% { transform: rotateY(0deg); } 100% { transform: rotateY(180deg); } }

        /* –ö–Ω–æ–ø–∫–∞ */
        .main-btn {
            margin-top: 40px; background: linear-gradient(90deg, var(--primary), var(--accent));
            border: none; padding: 18px 50px; border-radius: 15px;
            color: white; font-weight: 800; font-size: 1.1rem;
            box-shadow: 0 10px 20px rgba(0, 210, 255, 0.3); cursor: pointer;
        }
    </style>
</head>
<body class="fade-in">

    <div id="update-modal">
        <div class="modal-content">
            <h2>üöÄ –û–ë–ù–û–í–õ–ï–ù–ò–ï 1.1</h2>
            <ul style="text-align: left; line-height: 1.6;">
                <li>üíé –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ NFT –ö–µ–π—Å–æ–≤</li>
                <li>üé® –ù–æ–≤—ã–π –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π UI</li>
                <li>‚ö°Ô∏è –£–ª—É—á—à–µ–Ω–∞ –ø–ª–∞–≤–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–π</li>
                <li>üíæ –ê–≤—Ç–æ-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –±–æ—Ç–∞</li>
            </ul>
            <button class="main-btn" onclick="closeModal()">–ü–û–ï–•–ê–õ–ò!</button>
        </div>
    </div>

    <div class="balance-card">üí∞ <span id="coins">1000</span> COINS</div>

    <div class="case-scene">
        <div class="glow" id="glow-effect"></div>
        <img src="https://cdn-icons-png.flaticon.com/512/6161/6161301.png" id="nft-img" class="nft-display">
    </div>

    <h2 id="nft-name" style="margin-top: 20px; text-shadow: 0 0 10px rgba(255,255,255,0.5);">–ì–û–¢–û–í –ö –ü–†–û–ö–†–£–¢–ö–ï?</h2>

    <button class="main-btn" id="roll-btn" onclick="startRoll()">–û–¢–ö–†–´–¢–¨ –ö–ï–ô–°</button>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        const nfts = [
            { name: "COMMON BOT", img: "https://cdn-icons-png.flaticon.com/512/4712/4712139.png", color: "#00d2ff" },
            { name: "RARE CYBER", img: "https://cdn-icons-png.flaticon.com/512/4712/4712109.png", color: "#9d50bb" },
            { name: "ULTRA LEGEND", img: "https://cdn-icons-png.flaticon.com/512/4712/4712095.png", color: "#ffcc00" }
        ];

        function closeModal() {
            document.getElementById('update-modal').style.display = 'none';
            tg.HapticFeedback.impactOccurred('light');
        }

        function startRoll() {
            const btn = document.getElementById('roll-btn');
            const img = document.getElementById('nft-img');
            const name = document.getElementById('nft-name');
            const glow = document.getElementById('glow-effect');

            btn.disabled = true;
            img.classList.add('spinning');
            name.innerText = "–ö–†–£–¢–ò–ú...";
            
            tg.HapticFeedback.notificationOccurred('warning');

            // –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ 2.5 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                img.classList.remove('spinning');
                const win = nfts[Math.floor(Math.random() * nfts.length)];
                
                img.src = win.img;
                name.innerText = win.name;
                name.style.color = win.color;
                glow.style.background = win.color;
                glow.style.opacity = "0.6";
                
                btn.disabled = false;
                tg.HapticFeedback.notificationOccurred('success');
                
                // –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
                setTimeout(() => {
                    if(confirm(`–í—ã–±–∏–ª–∏ ${win.name}! –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å?`)) {
                        tg.sendData(`–í–´–ë–ò–¢–û: ${win.name}`);
                    }
                }, 500);
            }, 2500);
        }
    </script>
</body>
</html>
